(function(){"use strict";var t={2958:function(t,e,i){var s=i(9242),a=i(3396),n=i(7139),r=i.p+"img/logo.37b4f3e3.svg";const o={class:"wrapper"},l={class:"navbar"},d=(0,a._)("div",{class:"navbar__item navbar__logo"},[(0,a._)("img",{src:r,alt:""})],-1),v=(0,a.Uk)("Авторизация"),u=(0,a.Uk)("Аналитика");function c(t,e){const i=(0,a.up)("router-link"),s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("nav",l,[d,(0,a.Wm)(i,{class:(0,n.C_)(["authorization"===t.$route.name?"_active":"","navbar__item"]),to:"/"},{default:(0,a.w5)((()=>[v])),_:1},8,["class"]),(0,a.Wm)(i,{class:(0,n.C_)(["analytics"===t.$route.name?"_active":"","navbar__item"]),to:"/analytics"},{default:(0,a.w5)((()=>[u])),_:1},8,["class"])]),(0,a.Wm)(s,null,{default:(0,a.w5)((({Component:t})=>[((0,a.wg)(),(0,a.j4)(a.Ob,null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(t)))],1024))])),_:1})])}var h=i(89);const m={},p=(0,h.Z)(m,[["render",c]]);var f=p,_=i(678);const g=t=>((0,a.dD)("data-v-3500ca31"),t=t(),(0,a.Cn)(),t),y=g((()=>(0,a._)("h1",{class:"title"},"Аналитика",-1))),w=g((()=>(0,a._)("figure",null,[(0,a._)("div",{id:"chartdiv"}),(0,a._)("figcaption",{class:"subtitle"},"Аналитика по визитам")],-1)));function b(t,e,i,s,n,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[y,w],64)}var x=i(65),A={name:"AnalyticsView",computed:{...(0,x.rn)(["analytics"])},mounted(){am5.ready((function(){var t=am5.Root.new("chartdiv");t.setThemes([am5themes_Animated.new(t)]);var e=t.container.children.push(am5xy.XYChart.new(t,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",layout:t.verticalLayout,pinchZoomX:!0})),i=e.set("cursor",am5xy.XYCursor.new(t,{behavior:"none"}));i.lineY.set("visible",!1);var s=am5.ColorSet.new(t,{}),a=[];let n=[{date:"2020-07-01",visits:213},{date:"2020-07-02",visits:249},{date:"2020-07-03",visits:179},{date:"2020-07-04",visits:170},{date:"2020-07-05",visits:184},{date:"2020-07-06",visits:202},{date:"2020-07-07",visits:198},{date:"2020-07-08",visits:168},{date:"2020-07-09",visits:176},{date:"2020-07-10",visits:171},{date:"2020-07-11",visits:190},{date:"2020-07-12",visits:154},{date:"2020-07-13",visits:246},{date:"2020-07-14",visits:250},{date:"2020-07-15",visits:227},{date:"2020-07-16",visits:140},{date:"2020-07-17",visits:170},{date:"2020-07-18",visits:125},{date:"2020-07-19",visits:106},{date:"2020-07-20",visits:207},{date:"2020-07-21",visits:222},{date:"2020-07-22",visits:198},{date:"2020-07-23",visits:204},{date:"2020-07-24",visits:213},{date:"2020-07-25",visits:145},{date:"2020-07-26",visits:166},{date:"2020-07-27",visits:163},{date:"2020-07-28",visits:135},{date:"2020-07-29",visits:45}];n.forEach((t=>{let e=new Date(t.date).toUTCString().split(" ").slice(1,3).join(" "),i=t.visits;a.push({date:e,visits:i,strokeSettings:{stroke:s.getIndex(3)},fillSettings:{fill:s.getIndex(5)},bulletSettings:{fill:s.getIndex(3)}})}));var r=am5xy.AxisRendererX.new(t,{});r.grid.template.set("location",.5),r.labels.template.setAll({location:.5,multiLocation:.5});var o=e.xAxes.push(am5xy.CategoryAxis.new(t,{categoryField:"date",renderer:r,tooltip:am5.Tooltip.new(t,{})}));o.data.setAll(a);var l=e.yAxes.push(am5xy.ValueAxis.new(t,{maxPrecision:0,renderer:am5xy.AxisRendererY.new(t,{})})),d=e.series.push(am5xy.LineSeries.new(t,{xAxis:o,yAxis:l,valueYField:"visits",categoryXField:"date",tooltip:am5.Tooltip.new(t,{labelText:"{valueY}",dy:-5})}));d.strokes.template.setAll({templateField:"strokeSettings",strokeWidth:3}),d.fills.template.setAll({visible:!0,fillOpacity:.5,templateField:"fillSettings"}),d.bullets.push((function(){return am5.Bullet.new(t,{sprite:am5.Circle.new(t,{templateField:"bulletSettings",radius:5})})})),d.data.setAll(a),d.appear(1e3)}))}};const I=(0,h.Z)(A,[["render",b],["__scopeId","data-v-3500ca31"]]);var S=I;const D=t=>((0,a.dD)("data-v-3ec81ed5"),t=t(),(0,a.Cn)(),t),k={class:"form"},C=D((()=>(0,a._)("h1",{class:"form__title"},"LeadHit",-1))),O={class:"form__input"},T=D((()=>(0,a._)("span",null,"Введите ID сайта",-1)));function j(t,e,i,r,o,l){return(0,a.wg)(),(0,a.iD)("section",null,[(0,a._)("form",k,[C,(0,a._)("div",O,[(0,a.wy)((0,a._)("input",{required:"required",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.siteID=t),onInput:e[1]||(e[1]=t=>o.invalidSiteID=!1),class:(0,n.C_)({invalid:o.invalidSiteID})},null,34),[[s.nr,o.siteID]]),T]),(0,a._)("button",{class:"form__btn",onClick:e[2]||(e[2]=(0,s.iM)(((...t)=>l.auth&&l.auth(...t)),["prevent"]))},"Войти"),(0,a._)("p",{style:(0,n.j5)({opacity:o.invalidSiteID?"1":"0"}),class:"form__error"},"id сайта должен содержать 24 символа",4)])])}var Y={name:"AuthorizationView",data(){return{siteID:"",invalidSiteID:!1}},methods:{...(0,x.nv)(["fetchTestAuth"]),auth(){localStorage.removeItem("leadhit-site-id"),24===this.siteID.length?(this.invalidSiteID=!1,this.fetchTestAuth(this.siteID).then((()=>this.$router.push({name:"analytics"})))):this.invalidSiteID=!0}}};const X=(0,h.Z)(Y,[["render",j],["__scopeId","data-v-3ec81ed5"]]);var L=X;const F=[{path:"/",name:"authorization",component:L},{path:"/analytics",name:"analytics",component:S,meta:{requiresAuth:!0}}],z=(0,_.p7)({history:(0,_.PO)("/leadhit-test/"),routes:F});z.beforeEach(((t,e,i)=>{t.matched.some((t=>{t.meta.requiresAuth&&!localStorage.getItem("leadhit-site-id")?(i("/"),alert("Необходимо авторизоваться")):i()}))}));var E=z,P=(0,x.MT)({state:{analytics:[{date:"2020-07-01",visits:213},{date:"2020-07-02",visits:249},{date:"2020-07-03",visits:179},{date:"2020-07-04",visits:170},{date:"2020-07-05",visits:184},{date:"2020-07-06",visits:202},{date:"2020-07-07",visits:198},{date:"2020-07-08",visits:168},{date:"2020-07-09",visits:176},{date:"2020-07-10",visits:171},{date:"2020-07-11",visits:190},{date:"2020-07-12",visits:154},{date:"2020-07-13",visits:246},{date:"2020-07-14",visits:250},{date:"2020-07-15",visits:227},{date:"2020-07-16",visits:140},{date:"2020-07-17",visits:170},{date:"2020-07-18",visits:125},{date:"2020-07-19",visits:106},{date:"2020-07-20",visits:207},{date:"2020-07-21",visits:222},{date:"2020-07-22",visits:198},{date:"2020-07-23",visits:204},{date:"2020-07-24",visits:213},{date:"2020-07-25",visits:145},{date:"2020-07-26",visits:166},{date:"2020-07-27",visits:163},{date:"2020-07-28",visits:135},{date:"2020-07-29",visits:45}]},getters:{},mutations:{},actions:{fetchTestAuth({commit:t},e){return fetch("https://track-api.leadhit.io/client/test_auth",{method:"GET",headers:{"Api-Key":"5f8475902b0be670555f1bb3:eEZn8u05G3bzRpdL7RiHCvrYAYo","Leadhit-Site-Id":e}}).then((t=>t.ok?t:Promise.reject(t))).then((t=>localStorage.setItem("leadhit-site-id",e))).catch((()=>console.log("some error")))}}});(0,s.ri)(f).use(P).use(E).mount("#app")}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,n){if(!s){var r=1/0;for(v=0;v<t.length;v++){s=t[v][0],a=t[v][1],n=t[v][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(v--,1);var d=a();void 0!==d&&(e=d)}}return e}n=n||0;for(var v=t.length;v>0&&t[v-1][2]>n;v--)t[v]=t[v-1];t[v]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/leadhit-test/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,r=s[0],o=s[1],l=s[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var v=l(i)}for(e&&e(s);d<r.length;d++)n=r[d],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(v)},s=self["webpackChunkleadhit_test"]=self["webpackChunkleadhit_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(2958)}));s=i.O(s)})();
//# sourceMappingURL=app.7ff79333.js.map